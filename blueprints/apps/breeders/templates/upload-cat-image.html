{% extends "breeder-base.html" %}
{% block content %}
<!-- Start image upload section -->
<section>
    <div class="container centered">
        <div>
            <img
                src="{{ url_for("breeders_bp.static", filename="img/blue.png") }}"
                id="image-preview"
                class="cat-image"
                alt="Preview of your selected cat image">
        </div>
        <div>
            <button data-target="image-selection-modal" class="btn modal-trigger">Choose Image</button>
            <button id="upload-btn" class="btn hidden">Upload Image</button>
        </div>
    </div>
</section>
<!-- End image upload section -->

<!-- Start file chooser section -->
<section>        
    <!-- Start image selection modal -->
    <!-- Uses Materialize modal -->
    <div id="image-selection-modal" class="modal">
        <div class="modal-content centered">
            <h3>Select your cat image</h3>
            <form id="upload-form" method="POST" action="{{ url_for("breeders_bp.get_results") }}" enctype="multipart/form-data">
                <input id="image-input" name="image" type="file">
            </form>
            <button id="select-image-btn" href="#!" class="btn">Select</button>
        </div>
    </div>
    <!-- End image selection modal -->
</section>
<!-- End file chooser section -->

<!-- Start how to use blurb-->
<section>
    <div class="container">
        <p>
            Welcome to the British Shorthair Cat Classifier. The Classifier is designed for 
            British Shorthair cats, but may work well on other breeds as well. At the moment, 
            the classifier is restricted to the basic coat colours of black, blue, chocolate, 
            lilac, cinnamon and fawn. Colourpoint, white spotting and tabby genes are also included. 
            In time, this will be expanded to include additional genes.
        </p>

        <p>
            To use the Classifier, upload a photograph of your cat by clicking 'choose image' 
            and then 'upload image'. The Classifier will then use a machine learning model to 
            predict what colour your cat is. 
        </p>
    </div>
</section>
<!-- End how to use blurb-->

<!-- Start register event handlers -->
<script>
    window.onload = function() { initMaterialize(); };
    document.getElementById("select-image-btn").onclick = function() { previewSelectedCatImage(); };
    document.getElementById("upload-btn").onclick = function() { submitUploadForm(); };
    document.getElementById("image-input").onchange = function() { displayFormSubmitButton(); };
</script>
<!-- End register event handlers -->
{% endblock %}